<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>MicroDSI · Laboratorio Interactivo</title>
  <link rel="stylesheet" href="assets/styles.css"/>
</head>
<body>
  <header class="topbar">
    <div class="row">
      <div class="brand">
        <b>MicroDSI</b>
        <span>App de Modelado y Priorización</span>
      </div>
      <nav class="nav">
        <a class="btn" href="index.html">Inicio</a>
        <a class="btn" href="feed.html">Feed</a>
        <a class="btn" href="pista.htm">Pistas</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <section class="panel" style="background: var(--primary-light); border-color: #bfdbfe;">
      <h3 style="color: var(--primary);">⚡ Calculadora de Score Oficial</h3>
      <p style="margin-bottom: 12px;">Fórmula aplicada: Score = (Impacto * 2) - Esfuerzo + Riesgo</p>
      <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
        <input type="number" id="calcI" placeholder="Impacto (1-5)" min="1" max="5" style="width: 130px;">
        <input type="number" id="calcE" placeholder="Esfuerzo (1-5)" min="1" max="5" style="width: 130px;">
        <input type="number" id="calcR" placeholder="Riesgo (1-5)" min="1" max="5" style="width: 130px;">
        <button class="btn primary" id="btnCalc" type="button">Calcular</button>
        <span id="calcResult" style="font-weight: bold; font-size: 18px; color: var(--primary); margin-left: 10px;"></span>
      </div>
    </section>

    <hr class="sep"/>

    <section class="formRow">
      <div class="panel">
        <h3>1. Inventario (Nivel L1)</h3>
        <label>10–15 procesos (Verbo + Objeto)</label>
        <textarea id="inv" placeholder="Ej: Gestionar incidencias operativas..."></textarea>
      </div>

      <div class="panel">
        <h3>2. Matriz de Priorización (Top 5)</h3>
        <label>Usa la calculadora de arriba para sacar el Score</label>
        <textarea id="prio" placeholder="Proceso | I | E | R | Score | Justificación (Volumen/Retrabajo)"></textarea>
      </div>
    </section>

    <hr class="sep"/>

    <section class="panel">
      <h3>3. Constructor SIPOC Interactivo</h3>
      <label>Rellena cada campo por separado (4-6 pasos en el proceso)</label>
      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
        <div>
          <label>Suppliers (Proveedores)</label>
          <input type="text" id="sipocS" placeholder="Ej: Usuarios, Proveedores ERP...">
        </div>
        <div>
          <label>Inputs (Entradas - ¡Avisa si hay PII!)</label>
          <input type="text" id="sipocI" placeholder="Ej: Documentos fiscales (Contiene PII)">
        </div>
      </div>
      <div>
        <label>Process (4 a 6 pasos secuenciales)</label>
        <textarea id="sipocP" style="min-height: 80px;" placeholder="1. Recibir solicitud&#10;2. Validar datos&#10;3. Aprobar en sistema..."></textarea>
      </div>
      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 15px;">
        <div>
          <label>Outputs (Salidas)</label>
          <input type="text" id="sipocO" placeholder="Ej: Alta confirmada y registrada">
        </div>
        <div>
          <label>Customers (Clientes)</label>
          <input type="text" id="sipocC" placeholder="Ej: Departamento de Finanzas">
        </div>
      </div>

      <div class="actions" style="margin-top: 25px; border-top: 1px solid var(--line); padding-top: 15px;">
        <button class="btn primary" id="btnExport" type="button">Generar Documento Markdown</button>
        <button class="btn" id="btnDownload" type="button">Descargar .md</button>
      </div>
    </section>

    <hr class="sep"/>

    <section class="panel">
      <h3>Vista Previa del Documento</h3>
      <textarea id="mdOut" placeholder="El código Markdown se construirá mágicamente aquí..." readonly style="background: #f1f5f9; cursor: not-allowed;"></textarea>
    </section>
  </main>

  <script src="assets/app.js"></script>
</body>
</html>
